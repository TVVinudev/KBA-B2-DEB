<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DLIBRA</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        window.onload = async () => {
            try {
                const response = await fetch("http://127.0.0.1:8000/viewUser", {
                    method: "GET",
                    credentials: "include"
                })

                const data = await response.json();

                console.log(data.user)

                if (data.user) {
                    document.getElementById('signin').style.display = 'none';
                    document.getElementById('logout').style.display = 'block';
                }
                if (data.user == 'admin') {
                    document.getElementById('addBook').style.display = 'block';
                }

            } catch (error) {
                console.error(error);
            }
        }

        async function logout() {
            try {
                const response = await fetch('http://127.0.0.1:8000/logout', {
                    method: "GET",
                    credentials: "include"
                })
                console.log(response.status);
                if (response.ok) {
                    alert('Logout successfully');
                    window.location.href = './pages/signin.html'
                } else {
                    alert('you are not login');
                    window.location.href = './pages/signin.html'
                }
            } catch (error) {
                console.error(error);

            }

        }



    </script>

</head>

<body>
    <div class="m-3 p-4  flex justify-between shadow-2xl bg-[white] top-0 sticky ">
        <img src="./images/kbalogo.png" alt="" class="p-2 w-12">
        <nav>
            <ul class="flex justify-end p-2">
                <li class="pr-5"><a href="#"
                        class="text-[#16423C] hover:text-gray-400 font-[200] hover:font-[700]">HOME</a></li>
                <li class="pr-5"><a href="./pages/add_books.html"
                        class="text-[#16423C] hover:text-gray-400 font-[200] hover:font-[700]" style="display:none;"
                        id="addBook">ADD BOOK</a></li>
                <li class="pr-5"><a href="./pages/view_books.html"
                        class="text-[#16423C] hover:text-gray-400 font-[200] hover:font-[700]">VIEW BOOK</i>
                <li class="pr-5"><a href="./pages/signin.html"
                        class="text-[#16423C] hover:text-gray-400 font-[200] hover:font-[700]" style="display:block;"
                        id="signin">SIGN IN</a></li>
                <li class="pr-5"><button class="text-[#16423C] hover:text-gray-400 font-[200] hover:font-[700]"
                        style="display:none;" id="logout" onclick="logout()">LOGOUT</button></li>
            </ul>
        </nav>
    </div>

    <!------------------Navbar------------------------>
    <div class="grid grid-cols-2 bg-[#C4DAD2] w-full h-[300px]">

        <div class="flex justify-center mt-5">
            <div class="text-center">
                <h2 class="text-[150px]"><span class="text-white">D</span>LIBRA</h2>
                <p class="italic text-justify ml-10">
                    "Reading gives us someplace to go when we have to stay where we are."
                </p>
            </div>

        </div>
        <div class="m-10 p-10">
            <p class="text-l text-dark-300">
                Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                Sunt eum eius voluptates tempore delectus iusto illum quo dicta sapiente eveniet,
                aspernatur maiores, dolorem corrupti magni necessitatibus dignissimos cupiditate
                rem? Laboriosam ab optio ducimus. Id, mollitia.
            </p>
        </div>
    </div>
    <!--------------------------- section--------------------------------------------->
    <div class="w-full h-[400px] bg-[url('./img/img1.jpg')] bg-top bg-cover"></div>
    <!-----------------------------------image---------------------------------------->


    <div class="w-full h-auto bg-[#16423C]">
        <div class="text-center">
            <span class="text-[#C4DAD2] text-[150px]">ABOUT</span>
            <div class=" transition duration-7000 w-14 h-2 bg-[#C4DAD2] hover:w-72 "></div>
            <div class=" bg-[#C4DAD2] w-[700px] h-auto ml-[600px]">
                <p class="text-justify p-6">
                    Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                    Autem mollitia commodi earum itaque consequatur quae sequi labore iure veniam,
                    consectetur minima magni eos, ut tempora aperiam incidunt? Beatae blanditiis, adipisci tempore
                    alias,
                    pariatur eum temporibus porro nihil atque harum cumque debitis similique a officia aperiam facilis,
                    quia et.
                    Quasi perspiciatis odio illum neque dolorum molestias inventore assumenda dignissimos, ratione,
                    cupiditate harum,
                    sint delectus provident quae earum deserunt modi quos nihil quas tenetur sit atque consectetur
                    eaque.
                    Illum modi, ipsam fuga esse officiis odio. Voluptate facere eveniet voluptatibus, enim voluptates
                    laudantium? Odio numquam sint voluptatibus. Inventore asperiores pariatur quam consequuntur
                    blanditiis
                    qui rem mollitia repudiandae ipsum nesciunt, fugiat quisquam minus incidunt quos. Veritatis harum
                    nesciunt
                    at molestias eveniet, fugit minus nemo. Assumenda sit illo explicabo, vero in sequi ex consequuntur
                    modi
                    itaque, quo molestias optio, rerum aliquam temporibus enim deleniti omnis vitae. Quo tenetur eius
                    dicta harum.
                    Ducimus possimus recusandae mollitia esse incidunt laudantium ullam suscipit,
                    sit voluptas quam, libero consectetur optio. Nam expedita deleniti provident earum quasi.
                    Aperiam exercitationem ipsam vitae sequi nam in? Fugiat sint distinctio quam ex quis enim rerum
                    molestias quibusdam? Provident, necessitatibus nostrum quis, ullam repellat commodi veritatis dicta
                    distinctio laborum id qui doloribus excepturi impedit.
                </p>
            </div>
        </div>
    </div>

    <!---------------------------------  About  ---------------------------------------------->

    <div class="flex justify-between mx-5">
        <span> dlribrary@gmial.com</span>
        <span>123 street,Kakkanad,Ernakulam</span>
        <span>+123-456-7890</span>
        <span class="font-bold">DLIBRA</span>
    </div>

</body>

</html>